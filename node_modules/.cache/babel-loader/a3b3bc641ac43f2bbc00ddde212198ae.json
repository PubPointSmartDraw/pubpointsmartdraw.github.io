{"ast":null,"code":"import _classCallCheck from \"/media/audric/Data/Document/PubPoint/dev/sources/React/PubPointSmartDraw/finalApp/pubpointsmartdraw/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/media/audric/Data/Document/PubPoint/dev/sources/React/PubPointSmartDraw/finalApp/pubpointsmartdraw/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/media/audric/Data/Document/PubPoint/dev/sources/React/PubPointSmartDraw/finalApp/pubpointsmartdraw/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/media/audric/Data/Document/PubPoint/dev/sources/React/PubPointSmartDraw/finalApp/pubpointsmartdraw/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/media/audric/Data/Document/PubPoint/dev/sources/React/PubPointSmartDraw/finalApp/pubpointsmartdraw/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/media/audric/Data/Document/PubPoint/dev/sources/React/PubPointSmartDraw/finalApp/pubpointsmartdraw/src/pubpoint-studio/components/specific-components/ImageAsset.js\";\n\n/*****************************************************************************\n *\n * PubPoint Smart Draw Web application\n *\n * Developed for PubPoint Strategy by Eng. FEUYAN TCHOUO\n *\n * Copyright (C) PubPoint Strategy - All rights reserved.\n * Unauthorized copying of this file, via any medium is strictly prohibited.\n * Proprietary and confidential.\n * Written by FEUYAN TCHOUO <tca1audricfeuyan@gmail.com>, November 2018.\n *\n *****************************************************************************\n */\nimport React, { Component } from 'react';\nimport { Image } from 'react-konva';\nimport { Spring } from 'react-spring/dist/konva';\n\nvar ImageAsset =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ImageAsset, _Component);\n\n  function ImageAsset() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ImageAsset);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ImageAsset)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      image: null,\n      flag: false\n    };\n\n    _this.handleClick = function () {\n      console.log(\"Clicked on image\");\n\n      _this.setState(function (state) {\n        return {\n          flag: !state.flag\n        };\n      });\n    };\n\n    _this.handleChange = function (e) {\n      var shape = e.target;\n\n      _this.props.onTransform({\n        x: shape.x(),\n        y: shape.y(),\n        width: shape.width() * shape.scaleX(),\n        height: shape.height() * shape.scaleY(),\n        rotation: shape.rotation()\n      });\n\n      _this.handleClick();\n    };\n\n    return _this;\n  }\n\n  _createClass(ImageAsset, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var image = new window.Image();\n      image.src = this.props.image;\n\n      image.onload = function () {\n        _this2.setState({\n          image: image\n        });\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var img = this.state.image;\n      var flag = this.state.flag;\n      return React.createElement(Spring, {\n        native: true,\n        from: {\n          x: 0,\n          shadowBlur: 0\n        },\n        to: {\n          x: flag ? 150 : 0,\n          shadowBlur: flag ? 25 : 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, function (props) {\n        return React.createElement(Image, {\n          x: _this3.props.x,\n          y: _this3.props.y,\n          width: _this3.props.width,\n          height: _this3.props.height,\n          scaleX: 1,\n          scaleY: 1,\n          name: _this3.props.name,\n          image: img,\n          onDragEnd: _this3.handleChange,\n          onTransformEnd: _this3.handleChange,\n          draggable: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        });\n      });\n    }\n  }]);\n\n  return ImageAsset;\n}(Component);\n\nexport default ImageAsset;","map":{"version":3,"sources":["/media/audric/Data/Document/PubPoint/dev/sources/React/PubPointSmartDraw/finalApp/pubpointsmartdraw/src/pubpoint-studio/components/specific-components/ImageAsset.js"],"names":["React","Component","Image","Spring","ImageAsset","state","image","flag","handleClick","console","log","setState","handleChange","e","shape","target","props","onTransform","x","y","width","scaleX","height","scaleY","rotation","window","src","onload","img","shadowBlur","name"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;AAaA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,QAAsB,aAAtB;AACA,SAASC,MAAT,QAAuB,yBAAvB;;IAEMC,U;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,KAAK,EAAE,IADD;AAENC,MAAAA,IAAI,EAAE;AAFA,K;;UAIRC,W,GAAc,YAAM;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;;AACA,YAAKC,QAAL,CAAc,UAAAN,KAAK;AAAA,eAAK;AAAEE,UAAAA,IAAI,EAAE,CAACF,KAAK,CAACE;AAAf,SAAL;AAAA,OAAnB;AACD,K;;UAEDK,Y,GAAe,UAAAC,CAAC,EAAI;AAClB,UAAMC,KAAK,GAAGD,CAAC,CAACE,MAAhB;;AACA,YAAKC,KAAL,CAAWC,WAAX,CAAuB;AACrBC,QAAAA,CAAC,EAAEJ,KAAK,CAACI,CAAN,EADkB;AAErBC,QAAAA,CAAC,EAAEL,KAAK,CAACK,CAAN,EAFkB;AAGrBC,QAAAA,KAAK,EAAEN,KAAK,CAACM,KAAN,KAAgBN,KAAK,CAACO,MAAN,EAHF;AAIrBC,QAAAA,MAAM,EAAER,KAAK,CAACQ,MAAN,KAAiBR,KAAK,CAACS,MAAN,EAJJ;AAKrBC,QAAAA,QAAQ,EAAEV,KAAK,CAACU,QAAN;AALW,OAAvB;;AAOA,YAAKhB,WAAL;AACD,K;;;;;;;wCACmB;AAAA;;AAClB,UAAMF,KAAK,GAAG,IAAImB,MAAM,CAACvB,KAAX,EAAd;AACAI,MAAAA,KAAK,CAACoB,GAAN,GAAY,KAAKV,KAAL,CAAWV,KAAvB;;AACAA,MAAAA,KAAK,CAACqB,MAAN,GAAe,YAAM;AACnB,QAAA,MAAI,CAAChB,QAAL,CAAc;AACZL,UAAAA,KAAK,EAAEA;AADK,SAAd;AAGD,OAJD;AAKD;;;6BAEQ;AAAA;;AACP,UAAMsB,GAAG,GAAG,KAAKvB,KAAL,CAAWC,KAAvB;AADO,UAECC,IAFD,GAEU,KAAKF,KAFf,CAECE,IAFD;AAGP,aACE,oBAAC,MAAD;AACE,QAAA,MAAM,MADR;AAEE,QAAA,IAAI,EAAE;AAAEW,UAAAA,CAAC,EAAE,CAAL;AAAQW,UAAAA,UAAU,EAAE;AAApB,SAFR;AAGE,QAAA,EAAE,EAAE;AACFX,UAAAA,CAAC,EAAEX,IAAI,GAAG,GAAH,GAAS,CADd;AAEFsB,UAAAA,UAAU,EAAEtB,IAAI,GAAG,EAAH,GAAQ;AAFtB,SAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAQG,UAAAS,KAAK;AAAA,eACJ,oBAAC,KAAD;AACE,UAAA,CAAC,EAAE,MAAI,CAACA,KAAL,CAAWE,CADhB;AAEE,UAAA,CAAC,EAAE,MAAI,CAACF,KAAL,CAAWG,CAFhB;AAGE,UAAA,KAAK,EAAE,MAAI,CAACH,KAAL,CAAWI,KAHpB;AAIE,UAAA,MAAM,EAAE,MAAI,CAACJ,KAAL,CAAWM,MAJrB;AAKE,UAAA,MAAM,EAAE,CALV;AAME,UAAA,MAAM,EAAE,CANV;AAOE,UAAA,IAAI,EAAE,MAAI,CAACN,KAAL,CAAWc,IAPnB;AAQE,UAAA,KAAK,EAAEF,GART;AASE,UAAA,SAAS,EAAE,MAAI,CAAChB,YATlB;AAUE,UAAA,cAAc,EAAE,MAAI,CAACA,YAVvB;AAWE,UAAA,SAAS,MAXX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADI;AAAA,OARR,CADF;AA0BD;;;;EA5DsBX,S;;AA+DzB,eAAeG,UAAf","sourcesContent":["/*****************************************************************************\n *\n * PubPoint Smart Draw Web application\n *\n * Developed for PubPoint Strategy by Eng. FEUYAN TCHOUO\n *\n * Copyright (C) PubPoint Strategy - All rights reserved.\n * Unauthorized copying of this file, via any medium is strictly prohibited.\n * Proprietary and confidential.\n * Written by FEUYAN TCHOUO <tca1audricfeuyan@gmail.com>, November 2018.\n *\n *****************************************************************************\n */\nimport React, { Component } from 'react';\nimport { Image } from 'react-konva';\nimport { Spring } from 'react-spring/dist/konva';\n\nclass ImageAsset extends Component {\n  state = {\n    image: null,\n    flag: false\n  };\n  handleClick = () => {\n    console.log(\"Clicked on image\");\n    this.setState(state => ({ flag: !state.flag }));\n  }\n\n  handleChange = e => {\n    const shape = e.target;\n    this.props.onTransform({\n      x: shape.x(),\n      y: shape.y(),\n      width: shape.width() * shape.scaleX(),\n      height: shape.height() * shape.scaleY(),\n      rotation: shape.rotation()\n    });\n    this.handleClick();\n  };\n  componentDidMount() {\n    const image = new window.Image();\n    image.src = this.props.image;\n    image.onload = () => {\n      this.setState({\n        image: image\n      });\n    };\n  }\n\n  render() {\n    const img = this.state.image;\n    const { flag } = this.state;\n    return (\n      <Spring\n        native\n        from={{ x: 0, shadowBlur: 0}}\n        to={{\n          x: flag ? 150 : 0,\n          shadowBlur: flag ? 25 : 0\n        }}\n      >\n        {props => (\n          <Image\n            x={this.props.x}\n            y={this.props.y}\n            width={this.props.width}\n            height={this.props.height}\n            scaleX={1}\n            scaleY={1}\n            name={this.props.name}\n            image={img}\n            onDragEnd={this.handleChange}\n            onTransformEnd={this.handleChange}\n            draggable\n          />\n        )}\n      </Spring>\n    );\n  }\n}\n\nexport default ImageAsset;\n"]},"metadata":{},"sourceType":"module"}