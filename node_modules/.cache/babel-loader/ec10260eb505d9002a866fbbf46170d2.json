{"ast":null,"code":"import _classCallCheck from \"/media/audric/Data/Document/PubPoint/dev/sources/React/PubPointSmartDraw/finalApp/pubpointsmartdraw/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/media/audric/Data/Document/PubPoint/dev/sources/React/PubPointSmartDraw/finalApp/pubpointsmartdraw/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/media/audric/Data/Document/PubPoint/dev/sources/React/PubPointSmartDraw/finalApp/pubpointsmartdraw/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/media/audric/Data/Document/PubPoint/dev/sources/React/PubPointSmartDraw/finalApp/pubpointsmartdraw/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/media/audric/Data/Document/PubPoint/dev/sources/React/PubPointSmartDraw/finalApp/pubpointsmartdraw/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/media/audric/Data/Document/PubPoint/dev/sources/React/PubPointSmartDraw/finalApp/pubpointsmartdraw/src/pubpoint-studio/components/specific-components/TransformerComponent.js\";\n\n/*****************************************************************************\n *\n * PubPoint Smart Draw Web application\n *\n * Developed for PubPoint Strategy by Eng. FEUYAN TCHOUO\n *\n * Copyright (C) PubPoint Strategy - All rights reserved.\n * Unauthorized copying of this file, via any medium is strictly prohibited.\n * Proprietary and confidential.\n * Written by FEUYAN TCHOUO <tca1audricfeuyan@gmail.com>, November 2018.\n *\n *****************************************************************************\n */\nimport React, { Component } from 'react';\nimport { Transformer } from 'react-konva';\n\nvar TransformerComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TransformerComponent, _Component);\n\n  function TransformerComponent() {\n    _classCallCheck(this, TransformerComponent);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TransformerComponent).apply(this, arguments));\n  }\n\n  _createClass(TransformerComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.checkNode();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.checkNode();\n    }\n  }, {\n    key: \"checkNode\",\n    value: function checkNode() {\n      var stage = this.transformer.getStage();\n      var selectedAssetObject = this.props.selectedAssetObject;\n      var selectedNode = stage.findOne('.' + selectedAssetObject);\n\n      if (selectedNode === this.transformer.node()) {\n        return;\n      }\n\n      if (selectedNode) {\n        this.transformer.attachTo(selectedNode);\n      } else {\n        this.transformer.detach();\n      }\n\n      this.transformer.getLayer().batchDraw();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return React.createElement(Transformer, {\n        ref: function ref(node) {\n          _this.transformer = node;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return TransformerComponent;\n}(Component);\n\nexport default TransformerComponent;","map":{"version":3,"sources":["/media/audric/Data/Document/PubPoint/dev/sources/React/PubPointSmartDraw/finalApp/pubpointsmartdraw/src/pubpoint-studio/components/specific-components/TransformerComponent.js"],"names":["React","Component","Transformer","TransformerComponent","checkNode","stage","transformer","getStage","selectedAssetObject","props","selectedNode","findOne","node","attachTo","detach","getLayer","batchDraw"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;AAaA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,aAA5B;;IAEMC,oB;;;;;;;;;;;;;wCACgB;AAClB,WAAKC,SAAL;AACD;;;yCACoB;AACnB,WAAKA,SAAL;AACD;;;gCACW;AACV,UAAMC,KAAK,GAAG,KAAKC,WAAL,CAAiBC,QAAjB,EAAd;AADU,UAEFC,mBAFE,GAEsB,KAAKC,KAF3B,CAEFD,mBAFE;AAGV,UAAME,YAAY,GAAGL,KAAK,CAACM,OAAN,CAAc,MAAMH,mBAApB,CAArB;;AAEA,UAAIE,YAAY,KAAK,KAAKJ,WAAL,CAAiBM,IAAjB,EAArB,EAA8C;AAC5C;AACD;;AAED,UAAIF,YAAJ,EAAkB;AAChB,aAAKJ,WAAL,CAAiBO,QAAjB,CAA0BH,YAA1B;AACD,OAFD,MAEO;AACL,aAAKJ,WAAL,CAAiBQ,MAAjB;AACD;;AACD,WAAKR,WAAL,CAAiBS,QAAjB,GAA4BC,SAA5B;AACD;;;6BACQ;AAAA;;AACP,aACE,oBAAC,WAAD;AACE,QAAA,GAAG,EAAE,aAAAJ,IAAI,EAAI;AACX,UAAA,KAAI,CAACN,WAAL,GAAmBM,IAAnB;AACD,SAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAOD;;;;EA/BgCX,S;;AAkCnC,eAAeE,oBAAf","sourcesContent":["/*****************************************************************************\n *\n * PubPoint Smart Draw Web application\n *\n * Developed for PubPoint Strategy by Eng. FEUYAN TCHOUO\n *\n * Copyright (C) PubPoint Strategy - All rights reserved.\n * Unauthorized copying of this file, via any medium is strictly prohibited.\n * Proprietary and confidential.\n * Written by FEUYAN TCHOUO <tca1audricfeuyan@gmail.com>, November 2018.\n *\n *****************************************************************************\n */\nimport React, { Component } from 'react';\nimport { Transformer } from 'react-konva';\n\nclass TransformerComponent extends Component {\n  componentDidMount() {\n    this.checkNode();\n  }\n  componentDidUpdate() {\n    this.checkNode();\n  }\n  checkNode() {\n    const stage = this.transformer.getStage();\n    const { selectedAssetObject } = this.props;\n    const selectedNode = stage.findOne('.' + selectedAssetObject);\n\n    if (selectedNode === this.transformer.node()) {\n      return;\n    }\n\n    if (selectedNode) {\n      this.transformer.attachTo(selectedNode);\n    } else {\n      this.transformer.detach();\n    }\n    this.transformer.getLayer().batchDraw();\n  }\n  render() {\n    return (\n      <Transformer\n        ref={node => {\n          this.transformer = node;\n        }}\n      />\n    );\n  }\n}\n\nexport default TransformerComponent;\n"]},"metadata":{},"sourceType":"module"}